(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f45d5894"],{"0e39":function(t,e,a){"use strict";var n=a("4bce"),i=a.n(n);i.a},"1f4f":function(t,e,a){"use strict";a("a9e3");var n=a("5530"),i=(a("8b37"),a("80d2")),o=a("7560"),s=a("58df");e["a"]=Object(s["a"])(o["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(n["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(i["g"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"27fc":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height flexStart",attrs:{fluid:""}},[a("div",{staticClass:"page-title "},[a("h3",[t._v("Расчетные листки")]),a("v-row",[a("v-col",{staticClass:"pb-0 head-select",attrs:{cols:"2"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({attrs:{label:"Выберите месяц",readonly:"","hide-details":""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{type:"month","no-title":"",scrollable:"",locale:"ru",dark:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"normal"},on:{click:function(e){t.menu=!1}}},[t._v("Отмена")]),a("v-btn",{attrs:{text:"",color:"normal"},on:{click:function(e){t.$refs.menu.save(t.date),t.getPaymentList()}}},[t._v("OK")])],1)],1)],1)],1)],1),t.loading?a("Loader"):!t.loading&&t.paiments.length&&t.paiments.length>0?a("div",{staticClass:"row ml-0 mt-3 mr-2 mb-10"},t._l(t.paiments,(function(e){return a("payment-list-object",{key:e.employeePk,attrs:{showBlockName:t.paiments.length>1,tabNom:e.tabNom,subdivisionName:e.subdivisionName,positionName:e.positionName,organizationName:e.organizationName,typeOfEmployment:e.typeOfEmployment,dolgZaPredpriyztiemNaNachalo:e.dolgZaPredpriyztiemNaNachalo,dolgZaPredpriyztiemNaKonec:e.dolgZaPredpriyztiemNaKonec,nachisleno:e.nachisleno,uderzano:e.uderzano,viplacheno:e.viplacheno,lgoti:e.lgoti}})})),1):t.loading?t._e():a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h3",{staticClass:"ml-3"},[t._v("Данные отсутствуют")])])],1)],1)},i=[],o=(a("4de4"),a("b85c")),s=(a("96cf"),a("1da1")),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"width100 pr-0 pl-0"},[t.showBlockName?a("h3",{staticClass:"mt-3 employee-block-head"},[t._v(" Таб. № "+t._s(t.tabNom))]):t._e(),t.showBlockName?a("h3",{staticClass:"employee-tabel_head"},[t._v(" "+t._s(t.organizationName))]):t._e(),t.showBlockName?a("h3",{staticClass:"mb-3 employee-tabel_head"},[t._v(" "+t._s(t.positionName))]):t._e(),t.nachisleno.items.length||t.lgoti.items.length||t.uderzano.items.length||t.viplacheno.items.length?a("v-row",{staticClass:"mt-0 pt-0 mr-0"},[a("v-col",{staticClass:"mt-0 pt-0 ",attrs:{cols:"6"}},[t.nachisleno.items.length?a("payment-group",{attrs:{data:t.nachisleno}}):t._e(),t.lgoti.items.length?a("payment-group",{attrs:{data:t.lgoti}}):t._e()],1),a("v-col",{staticClass:"mt-0 pt-0 ",attrs:{cols:"6"}},[t.uderzano.items.length?a("payment-group",{attrs:{data:t.uderzano}}):t._e(),t.viplacheno.items.length?a("payment-group",{attrs:{data:t.viplacheno}}):t._e()],1)],1):t._e(),t.dolgZaPredpriyztiemNaNachalo.items.length||t.dolgZaPredpriyztiemNaKonec.items.length?a("v-row",{staticClass:"mr-0"},[a("v-col",{attrs:{cols:"6"}},[t.dolgZaPredpriyztiemNaNachalo.items.length?a("payment-group",{attrs:{data:t.dolgZaPredpriyztiemNaNachalo}}):t._e()],1),a("v-col",{attrs:{cols:"6"}},[t.dolgZaPredpriyztiemNaKonec.items.length?a("payment-group",{attrs:{data:t.dolgZaPredpriyztiemNaKonec}}):t._e()],1)],1):t._e()],1)},r=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h4",{staticClass:"pl-1",attrs:{primary:""}},[t._v(" "+t._s(t.data.name))]),t.data.items.length&&0!=t.data.items.length?a("v-simple-table",[a("tbody",t._l(t.data.items,(function(e){return a("tr",{key:e.payment_position},[a("td",{staticClass:"no-padding",attrs:{width:"40%"}},[t._v(" "+t._s(e.payment_position))]),a("td",{staticClass:"no-padding rightText",attrs:{width:"20%"}},[t._v(t._s(t._f("numeral")(e.payment_sum,"0,0.00")))])])})),0)]):a("v-simple-table",[a("tbody",[a("tr",[a("td",{staticClass:"no-padding",attrs:{width:"40%"}}),a("td",{staticClass:"no-padding rightText",attrs:{width:"20%"}},[t._v(t._s(t._f("numeral")(0,"0,0.00")))])])])])],1)},m=[],d={name:"payment-group",props:["data"]},p=d,u=(a("8836"),a("2877")),h=a("6544"),g=a.n(h),f=a("1f4f"),v=Object(u["a"])(p,c,m,!1,null,"4c38a8c6",null),y=v.exports;g()(v,{VSimpleTable:f["a"]});var b={components:{PaymentGroup:y},name:"payment-list-object",props:["showBlockName","tabNom","subdivisionName","positionName","organizationName","typeOfEmployment","dolgZaPredpriyztiemNaNachalo","dolgZaPredpriyztiemNaKonec","nachisleno","uderzano","viplacheno","lgoti"]},_=b,N=(a("4668"),a("62ad")),w=a("0fd9"),k=Object(u["a"])(_,l,r,!1,null,null,null),z=k.exports;g()(k,{VCol:N["a"],VRow:w["a"]});var x={components:{PaymentListObject:z},name:"payment-list",data:function(){return{date:(new Date).toISOString().substr(0,7),menu:!1,modal:!1,loading:!0,paiments:[],employees:[]}},methods:{getPaymentList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n,i,s,l,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,t.employees=[],e.prev=2,a=new Date(t.date),a.setHours(0),e.next=7,t.$store.dispatch("fetchEmployeePaymentList",{payment_month:a});case 7:n=e.sent,i=Object(o["a"])(n);try{for(i.s();!(s=i.n()).done;)l=s.value,r={},r.employeePk=l.employee,r.tabNom=l.tab_nom,r.subdivisionName=l.subdivision_name,r.positionName=l.position_name,r.organizationName=l.organization_name,r.typeOfEmployment=l.type_of_employment,r.dolgZaPredpriyztiemNaNachalo={name:"Долг предприятия на начало",items:l.dataBlock.filter((function(t){return"Входящее сальдо месяца"===t.payment_group}))},r.dolgZaPredpriyztiemNaKonec={name:"Долг предприятия на конец",items:l.dataBlock.filter((function(t){return"Сальдо по итогам расчетов за месяц"===t.payment_group}))},r.nachisleno={name:"Начислено",items:l.dataBlock.filter((function(t){return"Начислено"===t.payment_group}))},r.uderzano={name:"Удержано",items:l.dataBlock.filter((function(t){return"Удержано"===t.payment_group}))},r.viplacheno={name:"Выплачено",items:l.dataBlock.filter((function(t){return"Выплачено"===t.payment_group}))},r.lgoti={name:"Льготы",items:l.dataBlock.filter((function(t){return"Льготы"===t.payment_group}))},t.employees.push(r)}catch(c){i.e(c)}finally{i.f()}t.paiments=t.employees,e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](2),t.paiments=[];case 16:return e.prev=16,t.loading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})))()}},mounted:function(){this.getPaymentList()}},C=x,P=(a("0e39"),a("8336")),O=a("a523"),B=a("2e4b"),Z=a("e449"),V=a("2fa4"),j=a("8654"),$=Object(u["a"])(C,n,i,!1,null,"c61b10a4",null);e["default"]=$.exports;g()($,{VBtn:P["a"],VCol:N["a"],VContainer:O["a"],VDatePicker:B["a"],VMenu:Z["a"],VRow:w["a"],VSpacer:V["a"],VTextField:j["a"]})},4172:function(t,e,a){},4668:function(t,e,a){"use strict";var n=a("4172"),i=a.n(n);i.a},"4bce":function(t,e,a){},8836:function(t,e,a){"use strict";var n=a("bfd9"),i=a.n(n);i.a},"8b37":function(t,e,a){},bfd9:function(t,e,a){}}]);
//# sourceMappingURL=chunk-f45d5894.7ba2fb56.js.map